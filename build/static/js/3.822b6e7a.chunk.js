(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{673:function(e,a,t){"use strict";t.r(a);var r={};t.r(r),t.d(r,"actions",function(){return I}),t.d(r,"fillBrokerInfo",function(){return O}),t.d(r,"fetchCurrentUser",function(){return g});var n=t(2),c=t(11),i=t.n(c),s=t(14),o=t(8),l=t(33),m=t(10),u=t(6),d=t(9),p=t(0),f=t.n(p),N=t(135),b=t(667),y=t(539),v=function(e){var a=e.className;return f.a.createElement("div",{className:"content-header".concat(void 0===a?"":" ".concat(a))},e.children)},h=y.object().shape({firstName:y.string().required("Required"),lastName:y.string().required("Required"),jetmanId:y.string().matches(/^[a-z]+$/,"Can contain only lowercase english letters").required("Required"),description:y.string().required("Required"),company:y.string().required("Required")}),E=function(e){function a(){var e,t;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(n)))).handleSubmit=function(){var e=Object(s.a)(i.a.mark(function e(a){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.props.fillBrokerInfo(a);case 2:return e.next=4,t.props.fetchCurrentUser();case 4:case"end":return e.stop()}},e)}));return function(a){return e.apply(this,arguments)}}(),t}return Object(d.a)(a,e),Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.fetchCurrentUser()}},{key:"render",value:function(){var e=this.props,a=e.firstName,t=e.lastName,r=e.brokerInfo,c=void 0===r?{}:r;return f.a.createElement(p.Fragment,null,f.a.createElement(v,null,"Profile"),f.a.createElement(N.v,null,f.a.createElement(N.i,{sm:"12"},f.a.createElement(N.c,null,f.a.createElement(N.d,null,f.a.createElement(b.c,{initialValues:Object(n.a)({firstName:a,lastName:t},c),validationSchema:h,onSubmit:this.handleSubmit},function(e){var a=e.errors,t=e.touched;return f.a.createElement(b.b,null,f.a.createElement(N.p,null,f.a.createElement(N.r,{for:"firstName"},"First Name"),f.a.createElement(b.a,{name:"firstName",id:"firstName",className:"form-control ".concat(a.firstName&&t.firstName&&"is-invalid")}),a.firstName&&t.firstName?f.a.createElement("div",{className:"invalid-feedback"},a.firstName):null),f.a.createElement(N.p,null,f.a.createElement(N.r,{for:"lastName"},"Last Name"),f.a.createElement(b.a,{name:"lastName",id:"lastName",className:"form-control ".concat(a.lastName&&t.lastName&&"is-invalid")}),a.lastName&&t.lastName?f.a.createElement("div",{className:"invalid-feedback"},a.lastName):null),f.a.createElement(N.p,null,f.a.createElement(N.r,{for:"description"},"Your description"),f.a.createElement(b.a,{name:"description",id:"description",className:"form-control ".concat(a.description&&t.description&&"is-invalid")}),a.description&&t.description?f.a.createElement("div",{className:"invalid-feedback"},a.description):null),f.a.createElement(N.p,null,f.a.createElement(N.r,{for:"company"},"Company"),f.a.createElement(b.a,{name:"company",id:"company",className:"form-control ".concat(a.company&&t.company&&"is-invalid")}),a.company&&t.company?f.a.createElement("div",{className:"invalid-feedback"},a.company):null),f.a.createElement(N.p,null,f.a.createElement(N.r,{for:"jetmanId"},"Jetman ID"),f.a.createElement(b.a,{name:"jetmanId",id:"jetmanId",className:"form-control ".concat(a.jetmanId&&t.jetmanId&&"is-invalid")}),a.jetmanId&&t.jetmanId?f.a.createElement("div",{className:"invalid-feedback"},a.jetmanId):null),f.a.createElement(N.b,{type:"submit"},"Save"))}))))))}}]),a}(p.Component),j=t(27),k=t(23),I={};function O(e){return function(){var a=Object(s.a)(i.a.mark(function a(t,r,c){var s,o,l;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=c.graphqlRequest,o=c.history,t({type:I.start,payload:{}}),a.next=4,s("mutation($firstName: String, $lastName: String, $description: String!, $company: String!, $jetmanId: String!) {\n    fillBrokerInfo(firstName: $firstName, lastName: $lastName, description: $description, company: $company, jetmanId: $jetmanId) {\n      firstName,\n      lastName\n    }\n  }",e);case 4:if(!(l=a.sent).errors){a.next=8;break}return t({type:I.error,payload:{errors:l.errors}}),a.abrupt("return",Object(k.a)(l,{history:o}));case 8:return t({type:I.success,payload:Object(n.a)({},l.data)}),o.replace("/"),a.abrupt("return",Object(n.a)({},l.data));case 11:case"end":return a.stop()}},a)}));return function(e,t,r){return a.apply(this,arguments)}}()}function g(){return function(){var e=Object(s.a)(i.a.mark(function e(a,t,r){var c,s,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.graphqlRequest,s=r.history,a({type:I.start,payload:{}}),e.next=4,c("query {\n    me {\n      login,\n      firstName,\n      lastName,\n      brokerInfo {\n        description,\n        company,\n        jetmanId\n      }\n    }\n  }");case 4:if(!(o=e.sent).errors){e.next=8;break}return a({type:I.error,payload:{errors:o.errors}}),e.abrupt("return",Object(k.a)(o,{history:s}));case 8:return a({type:I.success,payload:Object(n.a)({},o.data.me)}),e.abrupt("return",Object(n.a)({},o.data.me));case 10:case"end":return e.stop()}},e)}));return function(a,t,r){return e.apply(this,arguments)}}()}["start","success","error"].forEach(function(e){I[e.toLowerCase()]="".concat("FETCH_CURRENT_USER","_").concat(e.toUpperCase())});var q=t(5);a.default=Object(j.connect)(function(e){return e.dashboard},function(e){return Object(q.b)(r,e)})(E)}}]);
//# sourceMappingURL=3.822b6e7a.chunk.js.map